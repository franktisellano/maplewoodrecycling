<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule - Maplewood Recycling</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Outfit:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="container">
        <header>
            <nav class="main-nav">
                <a href="schedule.html" class="active">Schedule</a>
                <a href="guidelines.html">Guidelines</a>
                <a href="index.html">Reminders</a>
            </nav>
            <h1>Maplewood Recycling Schedule</h1>
            <p class="subtitle">View the complete pickup schedule for your zone.</p>
        </header>

        <div class="content">

            <div class="form-group">
                <label for="zone-select">Select Your Zone</label>
                <select id="zone-select" onchange="renderSchedule()">
                    <option value="Monday">Zone 1 & 2 (Monday Pickup)</option>
                    <option value="Tuesday">Zone 3 & 4 (Tuesday Pickup)</option>
                    <option value="Wednesday">Zone 5 & 6 (Wednesday Pickup)</option>
                </select>
            </div>

            <div class="table-container" style="max-height: 500px; border: 1px solid #eee; border-radius: 12px;">
                <table id="schedule-table">
                    <thead>
                        <tr>
                            <th>Pickup Date</th>
                            <th>Recycling Type</th>
                        </tr>
                    </thead>
                    <tbody id="schedule-body">
                        <!-- Rows generated here -->
                    </tbody>
                </table>
            </div>

            <div class="cta-card">
                <h3>Want this on your phone?</h3>
                <p>Generate a Google Calendar file with reminders.</p>
                <a href="index.html" class="btn-primary"
                    style="display:inline-block; text-decoration:none; padding: 12px 24px; font-size: 1rem; width: auto; margin-top: 5px;">Go
                    to Calendar Generator</a>
            </div>

        </div>

        <div class="footer">
            Based on the official 2026 Maplewood <a
                href="https://www.maplewoodnj.gov/Home/Components/News/News/1250/15">DPW Schedule</a>. <br />
            Made by <a href="https://ft.io">Frank</a>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function renderSchedule() {
            const zoneDay = document.getElementById('zone-select').value;
            const weeks = generateScheduleData(zoneDay);
            const tbody = document.getElementById('schedule-body');

            tbody.innerHTML = '';

            weeks.forEach(week => {
                const tr = document.createElement('tr');

                // Pickup Date Column
                const tdDate = document.createElement('td');
                let dateHTML = formatDateDisplay(week.pickupDate);
                if (week.isDelayed) {
                    dateHTML += ` <span class="holiday-tag">Delayed (${week.holidayName})</span>`;
                }
                tdDate.innerHTML = dateHTML;

                // Type Column
                const tdType = document.createElement('td');
                tdType.textContent = week.type;
                tdType.className = 'type-badge';
                if (week.type === 'Fibers') {
                    tdType.style.color = 'var(--earth)';
                } else {
                    tdType.style.color = 'var(--forest-green)';
                }

                tr.appendChild(tdDate);
                tr.appendChild(tdType);
                tbody.appendChild(tr);
            });
        }

        // Initialize
        renderSchedule();
    </script>

</body>

</html>